\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{stats-v3}

% a cleanish version

% grant number
\newcommand{\grantnumber}{RGPIN-2014-04225}

% greek letters

\newcommand{\s}{\sigma}
\renewcommand{\a}{\alpha}
\renewcommand{\b}{\beta}
\renewcommand{\t}{\theta}
\renewcommand{\l}{\lambda}
\newcommand{\e}{\varepsilon}
\newcommand{\g}{\gamma}
\renewcommand{\d}{\Delta}
\renewcommand{\k}{\kappa}
\newcommand{\w}{\omega}
%\let\G\Gamma
%\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}

% math

\newcommand{\ud}{\, \mathrm{d}}
\newcommand{\abs}[1]{\left \vert #1 \right \vert}
\newcommand{\str}[1]{{#1}^{\star}}
\newcommand{\norm}[1]{\left \Vert #1 \right \Vert}
\newcommand{\inner}[2]{\left\langle {#1},{#2} \right\rangle}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}
\newcommand{\del}[2][]{\frac{\partial^{#1}}{\partial {#2}^{#1}}}
\newcommand{\der}[2][]{\frac{\mathrm{d}^{#1}}{\mathrm{d} {#2}^{#1}}}
\newcommand{\fdel}[3][]{\frac{\partial^{#1}#3}{\partial{#2}^{#1}}}
\newcommand{\fder}[3][]{\frac{\mathrm{d}^{#1}#3}{\mathrm{d} {#2}^{#1}}}
\newcommand{\sgn}{\textrm{sgn}}
\newcommand{\logit}{\textrm{logit}}
\newcommand{\intii}{\int_{-\infty}^\infty}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
% bracketed square root
\def\bsqrt{\mathpalette\DHLhksqrt}
\def\DHLhksqrt#1#2{%
\setbox0=\hbox{$#1\sqrt{#2\,}$}\dimen0=\ht0
\advance\dimen0-0.2\ht0
\setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
{\box0\lower0.4pt\box2}}

% matrix

\newcommand{\tr}{\textrm{tr}}
\newcommand{\diag}{\textrm{diag}}
\RequirePackage{etoolbox}
% rounded bordermatrix (instead of square)
\let\bbordermatrix\bordermatrix
\patchcmd{\bbordermatrix}{8.75}{4.75}{}{}
\patchcmd{\bbordermatrix}{\left(}{\left[}{}{}
\patchcmd{\bbordermatrix}{\right)}{\right]}{}{}


% stats

%\newcommand{\F}{\mathcal F}
%\renewcommand{\S}{\mathcal S}
\newcommand{\iid}{\stackrel {\textrm{iid}}{\sim}}
\newcommand{\ind}{\stackrel {\textrm{ind}}{\sim}}
%\newcommand{\eqd}{\stackrel {D}{=}}
\newcommand{\var}{\textrm{var}}
\newcommand{\cov}{\textrm{cov}}
\newcommand{\cor}{\textrm{cor}}
\newcommand{\sd}{\textrm{sd}}
\newcommand{\rv}[3][1]{#2_{#1},\ldots,#2_{#3}}
\renewcommand{\sp}[1]{^{(#1)}}
\newcommand{\lp}[1]{_{(#1)}}
\renewcommand{\|}{\,|\,}
\newcommand{\new}{\textrm{new}}
\newcommand{\old}{\textrm{old}}
\newcommand{\comp}{\textrm{comp}}
\newcommand{\miss}{\textrm{miss}}
\newcommand{\obs}{\textrm{obs}}
\newcommand{\prop}{\textrm{prop}}
\newcommand{\targ}{\textrm{targ}}

% distributions
\newcommand{\N}{\mathcal N}
%\newcommand{\dunif}{\textrm{Unif}}
\newcommand{\W}{\mathcal W}
%\newcommand{\dbeta}{\textrm{Beta}}
%\newcommand{\dgamma}{\textrm{Gamma}}
%\newcommand{\dbin}{\textrm{Bin}}

% misc

\newcommand{\correct}[1]{[{\color{red}#1}]}
\newcommand{\tx}{\textrm}
\renewcommand{\tt}{\texttt}
%\newcommand{\ccaption}[1]{\caption{{\small #1}}}
%\newcommand{\tsmall}[1]{\textrm{{\scriptsize #1}}}
%\newcommand{\sspace}{\vspace{0.3in}}
\newcommand{\cycle}{\rightleftharpoons}
% make definitions compatible with parskip package
\begingroup
    \makeatletter
    \@for\theoremstyle:=definition,remark,plain\do{%
        \expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{%
            \addtolength\thm@preskip\parskip
            }%
        }
\endgroup


% code